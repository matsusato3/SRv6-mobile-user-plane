<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY rfc2119 SYSTEM
    "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY rfc5213 SYSTEM
    "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5213.xml">
<!ENTITY I-D.ietf-spring-segment-routing SYSTEM
    "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-spring-segment-routing.xml">
<!ENTITY I-D.filsfils-spring-srv6-network-programming SYSTEM
    "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.filsfils-spring-srv6-network-programming.xml">
<!ENTITY I-D.ietf-dmm-fpc-cpdp SYSTEM
    "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-dmm-fpc-cpdp.xml">

]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<rfc category="std" docName="draft-matsushima-spring-dmm-srv6-mobile-uplane-03"
     ipr="trust200902">
  <?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

  <?rfc toc="yes" ?>

  <?rfc symrefs="yes" ?>

  <?rfc sortrefs="yes"?>
  <?rfc compact="yes" ?>
  <?rfc iprnotified="no" ?>

  <?rfc strict="yes" ?>

  <front>
    <title abbrev="SRv6-mobile-uplane">Segment Routing IPv6 for Mobile User-Plane</title>

     <author fullname="Satoru Matsushima" initials="S." surname="Matsushima">
      <organization abbrev="SoftBank">SoftBank</organization>

      <address>
        <postal>
          <street></street>
          <city>Tokyo</city>
          <region></region>
          <code></code>
          <country>Japan</country>
        </postal>
        <email>satoru.matsushima@g.softbank.co.jp</email>
      </address>
    </author>
    
    <author fullname="Clarence Filsfils" initials="C." surname="Filsfils">
      <organization abbrev="Cisco Systems, Inc.">Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street></street>
          <city></city>
          <region></region>
          <code></code>
          <country>Belgium</country>
        </postal>
        <email>cf@cisco.com</email>
      </address>
    </author>

    <author fullname="Miya Kohno" initials="M." surname="Kohno">
      <organization abbrev="Cisco Systems, Inc.">Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street></street>
          <city></city>
          <region></region>
          <code></code>
          <country>Japan</country>
        </postal>
        <email>mkohno@cisco.com</email>
      </address>
    </author>

    <author fullname="Daniel Voyer" initials="D." surname="Voyer">
      <organization abbrev="Bell Canada">Bell Canada</organization>
      <address>
        <postal>
          <street></street>
          <city></city>
          <region></region>
          <code></code>
          <country>Canada</country>
        </postal>
        <email>daniel.voyer@bell.ca</email>
      </address>
    </author>

    <date year="2017" />

    <workgroup>SPRING and DMM</workgroup>

    <abstract>

      <t>This document discusses the applicability of SRv6 (Segment Routing
      IPv6) to user-plane of mobile networks that SRv6 source routing
      capability with its programmability can fulfill the user-plane
      functions, such as access and anchor functions. It takes advantage of
      underlying layer awareness and flexibility to deploy user-plane
      functions that enables optimizing data-path for applications. Network
      slicing and an interworking way between SRv6 and existing mobile
      user-plane are also discussed in this document. </t>

    </abstract>
  </front>

  <middle>
    <section title="Introduction">

        <t>In mobile networks, mobility management systems provide
        connectivity while mobile nodes move around. While the
        control-plane of the system signals movements of a mobile node,
        user-plane establishes tunnel between the mobile node and anchor
        node over IP based backhaul and core networks. </t>

        <t>This document discusses the applicability of SRv6 (Segment
        Routing IPv6) to those mobile networks. SRv6 provides source
        routing to networks where operators can explicitly indicate route
        for the packets from and to the mobile node. SRv6 endpoint nodes
        act as roles of anchor of mobile user-plane. </t>

    </section>

    <section title="Conventions and Terminology">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <xref
        target="RFC2119"></xref>.</t>
        
        <t>All segment routing and SRv6 network programming terms are
        defined in <xref target="I-D.ietf-spring-segment-routing"/> and
        "<xref target="I-D.filsfils-spring-srv6-network-programming"/>.</t>

    </section>


    <section anchor="motivations" title="Motivations">
    
        <t>Today's and future applications are requiring highly optimized
        data-path between mobile nodes and the entities of those
        applications in perspectives of latency, bandwidth, etc,. However
        current architecture of mobile management is agnostic about
        underlying topologies of transport layer. It rigidly fragments the
        user-plane in radio access, core and service networks and connects
        them by tunneling techniques through the user-plane functions such
        as access and anchor nodes. Those agnostic and rigidness make it
        difficult for the operator to optimize the data-path.</t>
    
        <t>While the mobile network industry has been trying to solve that,
        applications shift to use IPv6 data-path and network operators
        adopt it as their IP transport as well. SRv6 integrates both
        application data-path and underlying transport layer in data-path
        optimization aspects that does not require any other techniques.</t>
        
        <t>SRv6 source routing capability with programmable functions <xref
        target="I-D.filsfils-spring-srv6-network-programming"/> could
        fulfills the user-plane functions of mobility management.  It takes
        advantage of underlying layer awareness and flexibility to deploy
        user-plane functions. Those are the motivations to adopt SRv6 for
        mobile user-plane.</t>

    
    </section>
    
    <section anchor="uplane" title="Mobile User-Plane">
        <t>This section describes user-plane using SRv6 for mobile
        networks. This clarifies mobile user-plane functions to which SRv6
        endpoint applied.</t>
        
        <t><xref target="fig_srv6-uplane"/> shows mobile user-plane
        functions which are connected through IPv6-only networks.
        In the <xref target="fig_srv6-uplane"/>, an mobile node (MN)
        connects to an SRv6 endpoint serving access point role for the MN.
        When the endpoint receives packets from the MN, it pushes SRH to
        the packets. The segment list in the SRH indicates the rest of
        user-plane segments which are L2 and L3 anchors respectively. Then
        the endpoint send the packets to the IPv6 network. In
        opposite direction, when an SRv6 endpoint serving L3 anchor role
        for the MN receives packets to it, the endpoint push SRH consist of
        the L2 anchor and access point segments to the packets.</t>

        <t>
            <figure anchor="fig_srv6-uplane" title="Mobile User-plane with SRv6">
            <artwork align="center"><![CDATA[

                               User-plane                            
                               Function                              
                              <L2 Anchor>                            
                               O------O                              
                               | SRv6 |                              
                               | End  |                              
                               | Point|                              
                               O------O                              
             User-plane           ||           User-plane            
   [MN]      Function        _____||_____      Function             
     |     <Access Point>   /            \    <L3 Anchor>            
  ___v___     O------O     /              \     O------O     ________
 /  Radio \   | SRv6 |    /                \    | SRv6 |    /        \ 
/  Access  \==| End  |===/     IPv6-Only    \===| End  |===/ Service  \
\    NW    /  | Point|   \      Network     /   | Point|   \    NW    /
 \________/   O------O    \                /    O------O    \________/ 
                           \              /                             
                            \____________/                            

              ]]></artwork>
            <postamble></postamble>
          </figure>
        </t>
        
        <t>An SRv6 segment represents those each function, such as Access
        Point, Layer-2 (L2) Anchor and Layer-3 (L3) Anchor. This makes
        mobile networks highly flexible to deploy any user-plane functions
        to which nodes in user flow basis. An SRv6 segment can represent a
        set of flows in any granularity of aggregation even though it is
        just for a single flow.</t>
        
        <t><xref target="fig_interwork"/> shows that an SRv6 endpoint connects
        existing IPv4 mobile user-plane, which is defined in <xref
        target="RFC5213"/> and <xref target="TS.29281"/>. An SRv6 segment
        in the endpoint represents interworking function which enables
        interworking between existing access point and SRv6 anchor segment,
        or SRv6 access point segment and existing anchor node.</t>
        
        <t>Existing mobile user-plane with IPv6 underlay is expected to be
        widely deployed. As IPv6 network should be interoperable with SRv6
        endpoints can be accommodated on it, interworking with existing
        IPv6 network is out of scope of this document.</t>

        <t>
            <figure anchor="fig_interwork" 
            title=" Interworking with Existing Mobile Networks">
            <artwork align="center"><![CDATA[

    ________                                                 _______  
   /        \    O------O                                   /       \ 
  / Service  \===|L2/L3 |                                  / Service \
  \    NW    /   |Anchor|         User-plane               \    NW   /
   \________/    |Node  |         Function                  \_______/ 
                 O------O       <Interworking>                  ||    
                     \\_______     O------O     ________     O------O 
                     /        \    | SRv6 |    /        \    | SRv6 | 
                    / Existing \===| End  |===/ IPv6-Only\===| End  | 
                    \  IPv4 NW /   | Point|   \  Network /   | Point| 
      [MN]           \________/    O------O    \________/    O------O 
       |             //                                         ||    
    ___v____    O------O                                     ___||__  
   / Radio  \   |Access|                                    / Radio  \ 
  /  Access  \==|Point |                            [MN]~~~/  Access  \
  \    NW    /  |Node  |                                   \    NW    /
   \________/   O------O                                    \________/ 
         
         
         
         
              ]]></artwork>
            <postamble></postamble>
          </figure>
        </t>
        
        <t>The detail of SRv6 segments representing user-plane functions
        are described in <xref target="uplane-functions"/>. </t>
    
    </section>

    <section anchor="uplane-functions" title="Segment Routing IPv6 for Mobile User-Plane Functions">
    
        <t>This section describes mobile user-plane functions to which SRv6
        node can apply SRv6 functions and behaviors so that the nodes
        configured those segments can fulfills the user-plane functions.
        Each function consist of two segments which are uplink (UL) from
        mobile node to the correspondent node, and downlink (DL) from the
        correspondent node to mobile node. </t>
        
        <t>We support following mobile user-plane functions:</t>
        
        <t>
            <list style="hanging">
                <t hangText="Access Point:">
                    <list>
                        <t>Access Point function provides SRv6 node the
                        role to which mobile node is connected directly.
                        eNodeB could be referenced as an entity
                        implementing the access point in 3GPP term.</t>
                    </list>
                </t>
                <t hangText="Layer-2 Anchor:">
                    <list>
                        <t>Layer-2 anchor function provides SRv6 node
                        the role to be anchor point while mobile node move
                        around within a serving area which could be assumed
                        as a layer-2 network. Serving Gateway (SGW) could
                        be referenced as an entity implementing the layer-2
                        anchor in 3GPP term.</t>
                    </list>
                </t>
                <t hangText="Layer-3 Anchor:">
                    <list>
                        <t>Layer-3 anchor function provides SRv6 node
                        the role to be anchor point across a mobile network
                        consists of multiple serving areas. Packet data
                        network gateway (PGW) could be referenced as an
                        entity implementing the layer-3 anchor.</t>
                    </list>
                </t>
                <t hangText="Stateless Interworking:">
                    <list>
                        <t>Stateless interworking function provides SRv6
                        node the role to interworking between existing
                        mobile user-plane and SRv6 mobile user-plane. It is
                        expected that the endpoint of interworking segment
                        could be unaware from the control-plane of the
                        mobility management. While there are combinations
                        of interworking either existing or SRv6 network in
                        which user-plane functions accommodate,
                        interworking segment should cover all combinations
                        without mobility state.</t>
                    </list>
                </t>
            </list>
        </t>
        
    </section>
        
    <section anchor="SRv6_funct" title="SRv6 Functions and Behaviors for User-Plane">
        
            <t> This section describes SRv6 functions and behavior applied
           to mobile user-plane roles by use cases. Terminology of SRv6
           endpoint functions refers to <xref
           target="I-D.filsfils-spring-srv6-network-programming"/>. In
           addition to that, new SRv6 functions and behaviors are
           introduced to cover some user cases.</t>
           
           <section anchor="basic_mode" title="Basic Mode">
            
                    <t>In the basic mode, we assume that mobile user-plane
                    consists of SRv6 segments per session basis. We expect
                    the user-plane functions as same as existing ones
                    except using SRv6. That means it just provides
                    fundamental IPv6 connectivity for MNs and no advanced
                    segment routing features introduced to it.</t>
                    
                    <texttable anchor="basic_mode_table" title="SRv6 Functions for Basic Mode">
                        <ttcol align="left">User-plane Function</ttcol>
                        <ttcol align="center">Uplink</ttcol>
                        <ttcol align="center">Downlink</ttcol>
                        <c>Access Point</c><c>T.Insert</c><c>End.X</c>
                        <c>L2-anchor</c>   <c>End.B6</c><c>End.B6</c>
                        <c>L3-anchor</c>   <c>End.T</c><c>T.Insert</c>
                    </texttable>
                    
                    <section anchor="basic_ul" title="Uplink">
                        <t>In uplink, SRv6 node applies following SRv6 end point functions
                        and transit behavior.</t>
                                                
                        <t>When the access point node receives a packet
                        destine to "D::1" from a mobile node "S::1", it
                        does T.Insert process for the receiving packets to
                        push a SRH with SID list &lt;A2::1, D::1&gt; with SL=1.
                        The access point node update DA to next UL L2-anchor 
                        SID "A2::1" which the SL indicates and forward the packet. </t>
                        
                        <t>The L2-anchor node of "A2::1" segment does
                        End.B6 process for the receiving packet according
                        to the SRH. The node updates DA to next UL L3-anchor
                        SID "A3::1" bound to "A2::1" and forward the packet.
                        In this basic use case, just one UL L3-anchor SID with SL=0 is
                        enough to do it so that there is no need
                        to push another SRH to the packet in that PSP
                        (Penultimate Segment Pop) operation. </t>
                        
                        <t>The L3-anchor node of "A3::1" segment does End.T
                        process for the receiving packet according to the
                        SRH. The node decrement SL to 0, updates DA to D::1 
                        which the SL indicates and lookup IPv6 table associated with "A3::1". In
                        this basic use case, the decremented SL is 0 so that
                        the node does PSP operation of popped out the SRH
                        from the packet and forward it. </t>
                    </section>
                        
                    <section anchor="basic_dl" title="Downlink">                        
                        <t>In downlink, SRv6 node applies following SRv6 end point functions
                        and transit behavior.</t>
                        
                        <t>When the L3-anchor node receives a packet
                        destine to "S::1" from a correspondant node "D::1", it
                        does T.Insert process for the receiving packets to
                        push a SRH with SID list &lt;A2::2, S::1&gt; with SL=1.
                        The L3-anchor node update DA to next DL L2-anchor SID "A2::2" which the SL
                        indicates and forward the packet. </t>
                        
                        <t>The L2-anchor node of "A2::2" segment does
                        End.B6 process for the receiving packet according
                        to the SRH. The node updates DA to next DL access point
                        segment "A1::1" bound to "A2::2" and forward the packet. In this
                        basic use case, just one DL access point SID with SL=0 is
                        enough to do it so that there is no need
                        to push another SRH to the packet in that PSP
                        (Penultimate Segment Pop) operation. </t>
                        
                        <t>The access point node of "A1::1" segment does
                        End.X process for the receiving packet according to
                        the segment. The node decrement SL to 0, updates DA to S::1
                        which the SL indicates and forward the packet to the mobile node 
                        of "S::1" through radio channel associated with "A1::1". In this
                        use case, the decremented SL is 0 so that the node does
                        PSP operation of popped out the SRH from the packet and 
                        forward it. </t>

                    </section>
    
                </section>

           <section anchor="aggregate_mode" title="Aggregate Mode">
            
                    <t>This section describes that SRv6 nodes allocate an
                    aggregated segment for multiple sessions. Thank to IPv6
                    GUA, there is no need to employ additional identifier
                    to distinguish each session. This benefits SRv6 node
                    allows to reduce number of segments for mobile sessions
                    which belong to same policy.</t>
                    
                    <texttable anchor="aggragate_mode_table" title="SRv6 Functions for Aggregate Mode">
                        <ttcol align="left">User-plane Function</ttcol>
                        <ttcol align="center">Uplink</ttcol>
                        <ttcol align="center">Downlink</ttcol>
                        <c>Access Point</c><c>T.Insert</c><c>End</c>
                        <c>L2-anchor</c>   <c>End</c><c>End</c>
                        <c>L3-anchor</c>   <c>End.T</c><c>T.Insert</c>
                    </texttable>
                    
                    <section anchor="aggregate_ul" title="Uplink">
                        <t>In uplink, SRv6 node applies following SRv6 end point functions
                        and transit behavior.</t>
                                                
                        <t>When the access point node receives a packet
                        destine to "D::1" from a mobile node "S::1", it
                        does T.Insert process for the receiving packets to
                        push a SRH with SID list &lt;A2::, A3::, D::1&gt; with SL=2.
                        The access point node update DA to next aggregated UL L2-anchor 
                        SID "A2::" which the SL indicates and forward the packet. </t>
                        
                        <t>The aggregated L2-anchor node of "A2::" segment does
                        End process for the receiving packet according
                        to the SRH. The node decrement SL to 1, updates DA to next
                        aggregated UL L3-anchor SID "A3::" which the SL indicates and 
                        forward the packet. </t>
                        
                        <t>The aggregated L3-anchor node of "A3::" segment does End.T
                        process for the receiving packet according to the
                        SRH. The node decrement SL to 0, updates DA to D::1 which the SL
                        indicates and lookup IPv6 table associated with "A3::". In
                        this basic use case, the decremented SL is 0 so that
                        the node does PSP operation of popped out the SRH
                        from the packet and forward it. </t>
                    </section>
                        
                    <section anchor="aggregate_dl" title="Downlink">                        
                        <t>In downlink, SRv6 node applies following SRv6 end point functions
                        and transit behavior.</t>
                        
                        <t>When the L3-anchor node receives a packet
                        destine to "S::1" from a correspondant node "D::1", it
                        does T.Insert process for the receiving packets to
                        push a SRH with SID list &lt;A2::, A1::, S::1&gt; with SL=2.
                        The L3-anchor node update DA to next aggregated DL L2-anchor
                        SID "A2::" which indicates and forward the packet. </t>
                        
                        <t>The aggregated L2-anchor node of "A2::" segment does
                        End process for the receiving packet according
                        to the SRH. The node decrement SL to 1, updates DA to next 
                        aggregated DL access point SID "A1::" which the SL indicates
                        and forward the packet. </t>
                        
                        <t>The aggregated access point node of "A1::" segment does
                        End process for the receiving packet according to
                        the SRH. The node decrement SL to 0, updates DA to "S::1" which 
                        the SL indicates, and forward the packet to the mobile node
                        through radio channel associated with "S::1". In this 
                        use case, decremented SL is 0 so that the node does
                        PSP operation of popped out the SRH from the packet
                        and forward it. </t>

                    </section>
    
                </section>

                <section anchor="interwork" title="Stateless Interworking">
            
                    <t>SRv6 SID for stateless interworking function is
                    encoding identifiers of corresponding tunnel in
                    existing network as argument of the SID. This document
                    define an SRv6 end function, "End.TM", and a transit
                    behavior "T.Tmap" using following SID encoding: </t>

                    <t>
                        <figure anchor="fig_interwork-sid" 
                        title="Stateless Interworking SID Encoding">
                        <artwork align="center"><![CDATA[

    +----------------------+------+-------+-------+
    |Locater of interwork  |  DA  |  SA   | Tun-ID|
    +----------------------+------+-------+-------+
            128-a-b-c          a      b       c

                          ]]></artwork>
                        <postamble></postamble>
                      </figure>
                    </t>
                    
                    
                    <t>In SRv6 to existing network direction, an endpoint
                    of interworking allocates End.TM function to a SID
                    prefix, say "T0::". When the endpoint receives packet
                    and the active segment of the packet indicates that SID
                    prefix, the endpoint does End.TM process that pops the
                    SRH of the SID, and then the endpoint encaps the
                    payload with the encoded information in the SID which
                    are tunnel identifier of tunnel header, source and
                    destination IPv4 address of IPv4 header described in
                    <xref target="fig_interwork-sid"/>. Then the endpoint
                    send out the packet to the existing network along with
                    its routing policy.</t>
                    
                    <t>In existing network to SRv6 network direction,
                    existing network allocates IPv4 address spaces routed
                    to interworking SRv6 network. SRv6 network allocates a
                    domain-wise SID prefix for interworking segments, say
                    "T1::". When a SRv6 endpoint connects to existing
                    network receives packet destined to the allocated IPv4
                    address, the endpoint does T.Tmap behavior that decaps
                    outer IPv4 and tunnel header, and then pushs an SRH
                    with the SID which consists of the allocated
                    SID prefix "T1::", source and destination
                    addresses, and tunnel identifier as described in <xref
                    target="fig_interwork-sid"/>. Then the endpoint send
                    out the packet to the SRv6 network along with its
                    routing policy.</t>
                
                    <t>In case of IPv4 flow packet over the user-plane, the
                    endpoint does IPv6 header encaps and decaps instead of SRH
                    insert and pop process. The IPv6 header includes
                    interworking segment SID in the SRH.</t>
                
                    <t>Noted that to make sure stateless interworking, entities
                    of control-plane in mobile management should cooperate with
                    SRv6 user-plane settings. Further control-plane
                    consideration is discussed in <xref target="c-plane"/>.</t>

                </section>

                <section anchor="rate-limit" title="Rate Limit Function">
            
                    <t>Mobile user-plane requires rate-limit feature. SID is
                    able to encode limiting rate as an argument in SID.
                    Multiple flows of packets should have same group identifier
                    in SID when those flows are in an same AMBR group. This
                    helps to keep user-plane stateless. That enables SRv6
                    endpoint nodes which are unaware from the mobile
                    control-plane information. Encoding format of rate limit
                    segment SID is following:</t>

                    <t>
                        <figure anchor="fig_ratelimit-sid" 
                        title="Stateless Interworking SID Encoding">
                        <artwork align="center"><![CDATA[

    +----------------------+----------+-----------+
    | Locater of rate-limit| group-id | limit-rate|
    +----------------------+----------+-----------+
              128-i-j            i          j

                          ]]></artwork>
                        <postamble></postamble>
                      </figure>
                    </t>
                    
                    <t>In case of j bit length is zero in SID, the node should
                    not do rate limiting unless static configuration or
                    control-plane sets the limit rate associated to the
                    SID. </t>

                </section>
        </section>

    


    <section anchor="netslice" title="Network Slicing Considerations">
    
        <t>Mobile network may be required to create a network slicing that
        represent a set of network resources and isolate those resource
        from other slices. User-plane functions represented as SRv6
        segments would be part of a slice.</t>
        
        <t>To represent a set of user-plane function segments for a slice,
        sharing same prefix through those SIDs within the slice could be a
        straightforward way. SIDs in a network slice may include other type
        of functions in addition to the mobile user-plane functions
        described in this document, and underlay integration to meet SLA and
        quality requirements.</t>
        
        <t>While network slicing has been discussed in the IETF and other
        standardization bodies, what functionalities are required for
        network slicing in mobile user-plane is further study item and to
        be discussed.</t>

    </section>


    <section anchor="c-plane" title="Control Plane Considerations">
    
        <section anchor="existing-cplane" title="Existing Control Plane">
    
            <t>A Mobile control-plane entity may allocate SIDs to an user-plane
            function in its accommodated node. In this case, the control-plane entity must signal
            allocated SIDs to other side of entity. </t>
        
            <t>If the control-plane entity need to employ existing control-plane protocol,
            GTP-C or PMIP for example, it may be required not to impact that protocol.
            In this case, the control-plane entity is only allowed to signal SID in a 
            tunnel endpoint IPv6 address field. <xref target="table_cplane-mode"/> shows
            applicable user-plane function segments for that restriction.</t>
        
            <texttable anchor="table_cplane-mode" title="Applicable SRv6 User-plane Functions for Existing Control-Plane">
                <ttcol align="left">User-plane Function</ttcol>
                <ttcol align="center">Per-session Mode</ttcol>
                <ttcol align="center">Aggregated Mode</ttcol>
                <c>UL access point</c><c>X</c><c> </c>
                <c>DL access point</c><c>X</c><c> </c>
                <c>UL L2-anchor</c>   <c>X</c><c> </c>
                <c>DL L2-anchor</c>   <c>X</c><c> </c>
                <c>UL L3-anchor</c>   <c>X</c><c>X</c>
                <c>DL L3-anchor</c>   <c>X</c><c> </c>
            </texttable>

            <t>Noted that in the case of aggregated segments for mobile
            user-plane functions, allocated SIDs for the segments can be
            pre-configured to SRv6 nodes. The control-plane should utilize those SIDs
            to manage mobility sessions especially when increasing number of sessions
            is expected to hit the upper-limit of the user-plane nodes. </t>
        
        </section>
        
        <section anchor="cups" title="User-Plane Sepalated Control Plane">

            <t>In an user-plane separated control-plane system, a mobile
            user-plane entity may allocate SIDs to an user-plane function
            instead of the control-plane. In this case, the user-plane
            entity must signal allocated SIDs back to the control-plane
            entity.</t>

            <t>If the control- and user-plane entities need to employ
            existing user-plane control protocol in between, such as PFCP
            for example, it may be required not to impact that protocol. In
            this case, the control-plane entity is only allowed to signal
            SID in a tunnel endpoint IPv6 address field. Applicable
            user-plane function segments are identical with <xref
            target="table_cplane-mode"/>. in <xref
            target="existing-cplane"/></t>
        
            <t>In case of entities of the control-plane
            are distributed to the user-plane SRv6 nodes, or those are separated from the
            endpoint but each of them corresponds to each SRv6 node. In
            latter case,  control-plane entity must advertise allocated SID to
            the endpoint through some means which are out of scope of this document.</t>
        
        </section>
        
        <section anchor="centralize-sdn" title="Cetnralized Controller">

            <t>When a centralized controller interfaces to mobile
            control-planes is capable to allocate SIDs to the controlling SRv6
            endpoints, the mobile control-planes just need to indicate the
            endpoint nodes and their user-plane functions to the controller. In
            this case, the controller must allocate appropriate SIDs for the
            user-plane roles to the indicated SRv6 endpoints. The controller
            must advertise allocated SIDs to the endpoints. To build centralized controller 
            for mobile user-plane is out of scope of this document.</t>
        
            <t>However, to indicate endpoints and their user-plane functions from mobile
            control-plane to user-plane, the endpoint or the controller could
            take advantage of <xref target="I-D.ietf-dmm-fpc-cpdp"/>. It
            provides interface to the control-plane to manage the user-plane of
            mobile networks.</t>
        
            <t>In case of stateless interworking, SID allocating entity needs
            to be aware SID prefix which interworking SRv6 endpoint and SRv6
            domain allocate discussed in <xref target="interwork"/>. The mobile
            control-plane also need to allocate tunnel endpoint IPv4 address to
            which corresponding interworking segment destined from existing
            user-plane that is also discussed in <xref target="interwork"/>.</t>
        
        </section>
        
    </section>
    

    <section title="Security Considerations">
    
        <t>TBD</t>
    
    </section>

    <section anchor="IANA" title="IANA Considerations">
    
        <t>This document has no actions for IANA.</t>
    
    </section>


  </middle>

  <back>
    <references title="Normative References">
        &rfc2119;
        &I-D.ietf-spring-segment-routing;
        &I-D.filsfils-spring-srv6-network-programming;
    </references>

    <references title="Informative References">
        &I-D.ietf-dmm-fpc-cpdp;
        &rfc5213;
        <reference anchor="TS.29281">
            <front>
                <title>General Packet Radio System (GPRS) Tunnelling
                Protocol User Plane (GTPv1-U)</title>
                <author surname="3GPP" fullname="3GPP">
                </author>
                <date month="September" year="2011" />
            </front>
            <seriesInfo name="3GPP TS 29.281" value="10.3.0" />
        </reference>
    </references>


  </back>
</rfc>
